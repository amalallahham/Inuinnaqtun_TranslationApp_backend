<%- include('./layout/header_auth') %>

<div class="container my-4 px-5">
  <h2 class="mb-4 semi-bold">Add New Information</h2>

  <form action="/admin/information/add_info"  method="POST" onsubmit="return submitForm()">
    <div class="mb-3">
      <label for="title" class="form-label">Title</label>
      <input
        type="text"
        class="form-control"
        id="title"
        name="title"
        required
      />
    </div>

    <div class="mb-3">
      <label for="status" class="form-label">Status</label>
      <select class="form-select" id="status" name="status" required>
        <option value="" disabled selected></option>
        <option value="draft">Draft</option>
        <option value="published">Published</option>
        <option value="archived">Archived</option>
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label">Content</label>
      <div id="editor" style="height: 200px"></div>
      <input type="hidden" name="content" id="content" />
    </div>

    <button type="submit" class="btn btn-primary">Create</button>
    <a href="/information" class="btn btn-secondary">Cancel</a>
  </form>
</div>

<!-- Quill.js CDN -->
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet" />
<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

<style>
  .ql-editor {
    background-color: white !important;
    color: black !important;
    border-radius: 5px;
    padding: 10px;
  }
</style>

<script>
  // Initialize Quill editor
  const quill = new Quill("#editor", {
    theme: "snow",
    placeholder: "Write the content here...",
    modules: {
      toolbar: [
        [{ header: [1, 2, false] }],
        ['bold', 'italic', 'underline'],
        ['image', 'video'], 
        [{ list: 'ordered' }, { list: 'bullet' }],
        ['link'],
        ['clean']
      ]
    }
  });

  // On form submit, copy editor content to hidden input
  function submitForm() {
    const contentInput = document.getElementById("content");
    contentInput.value = quill.root.innerHTML;
    return true;
  }
</script>

<%- include('./layout/footer_auth') %>
